<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Accounts</title>
</head>
<body>
<ui:composition template="/template/common/commonLayout.xhtml">
    <ui:param name="searchQuery" value="#{param['query']}"/>
    <ui:define name="content">

        <c:choose>
            <c:when test="#{searchContent.size == 0}">
                Can not search with a empty search parameter
            </c:when>
            <c:otherwise>
                <h:form>
                    <table class="table">
                        <tr>
                            <th>Username</th>
                            <th>First name</th>
                            <th>Last name</th>
                            <th>bio</th>
                            <th>email</th>
                        </tr>
                        <c:forEach var="account" items="#{accountsBean.search(searchQuery)}">

                            <!--<h:commandLink  styleClass="clickable-row" hreflang="app/userprofile.xhtml?user=#{account.userName}">-->

                            <tr>
                                <!--<td>-->
                                <!--<a href="userprofile.xhtml">-->
                                <!--#{account.userName}-->
                                <!--</a>-->
                                <!--</td>-->
                                <td>
                                    <h:link outcome="userprofile.xhtml?user=#{account.userName}">
                                        #{account.userName}
                                    </h:link>
                                </td>

                                <td>#{account.firstName}</td>
                                <td>#{account.lastName}</td>
                                <td>#{account.bio}</td>
                                <td>#{account.email}</td>
                            </tr>
                            <!--</h:commandLink>-->

                        </c:forEach>
                    </table>
                </h:form>
            </c:otherwise>
        </c:choose>
    </ui:define>
</ui:composition>


</body>
</html>